"""
# `mcp:devmind_query_metric_story_chart_url`

Query the chart url of multiply specific metric stories

---

**Parameters Schema:**

{"type":"object","properties":{"alternative_analysis_dimension_list":{"type":"array","description":"List of Alternative Dimensions，根据StoryList里指标故事配置的分析维度自行去组装一些备选的维度供用户选择，不要只局限于用户语义里的维度，可自行去做扩展，用于最终可视化显示可选维度的列表，包含筛选维度和维度，如果StoryList是多个指标故事则是复合型维度","properties":{},"items":{"type":"object","properties":{"begin_time":{"type":"string","description":"if there is a time dimension and the granularity_id is 14 (i.e., biweekly), then this value is mandatory, if the user does not specify to fill in with the system's current time. format: YYYY-MM-DD","properties":{}},"dimension_id_list":{"type":"array","description":"各指标故事配置的分析维度组合成的维度里的子维度","properties":{},"items":{"type":"string","properties":{}}},"display_name":{"type":"string","description":"如果是时间类型的维度，展示名称默认是时间，业务线和汇报线同理，不允许做更改，否则默认是维度名称","properties":{}},"granularity_id":{"type":"integer","description":"filter time granularity when used with time dimension, Day (id = 1)  Week (id = 2) Month (id = 3) (which is the default Time Granularity if user doesn't specify) BiMonth (id = 4) Quater (id = 49)","properties":{}},"id":{"type":"string","description":"组成新的uuid，格式为：aime_前缀+任意随机纯字母数字，如果是时间、业务线、汇报线维度id默认都是一致的","properties":{}},"operator":{"type":"string","description":"操作符","properties":{}},"story_dim_type":{"type":"string","description":"维度类型 STRING、TIMESTAMP、DATE、INT、FLOAT, 默认STRING, 时间类型默认都是TIMESTAMP","properties":{}},"value":{"type":"array","description":"filter value, if the dimension type is TIMESTAMP or DATE, the value format is YYYY-MM-DD HH:mm:ss, otherwise the value format is the same as the dimension type","properties":{},"items":{"type":"string","properties":{}}}},"required":["id","story_dim_type","display_name","dimension_id_list","operator"]}},"chart_type":{"type":"string","description":"sheet, line, bar, bar_stack, line_stack, percent_bar_stack, pie, double_axis, card, radar, bar_row","properties":{}},"dimension_condition_list":{"type":"array","description":"查询指标故事图表其中指标故事的筛选维度的合集，如果多个指标故事则是筛选复合维度","properties":{},"items":{"type":"object","properties":{"begin_time":{"type":"string","description":"if there is a time dimension and the granularity_id is 14 (i.e., biweekly), then this value is mandatory, if the user does not specify to fill in with the system's current time. format: YYYY-MM-DD","properties":{}},"display_name":{"type":"string","description":"如果是时间类型的维度，展示名称默认是时间，业务线和汇报线同理，不允许做更改，否则默认是维度名称","properties":{}},"granularity_id":{"type":"integer","description":"filter time granularity when used with time dimension, Day (id = 1)  Week (id = 2) Month (id = 3) (which is the default Time Granularity if user doesn't specify) BiMonth (id = 4) Quater (id = 49)","properties":{}},"id":{"type":"string","description":"组成新的uuid，格式为：aime@前缀+任意随机纯字母数字，如果是时间、业务线、汇报线维度id默认维度和筛选维度都是一致的","properties":{}},"operator":{"type":"string","description":"操作符","properties":{}},"story_dim_type":{"type":"string","description":"维度类型 STRING、TIMESTAMP、DATE、INT、FLOAT, 默认STRING, 时间类型默认都是TIMESTAMP","properties":{}},"story_id_dimension_id_map":{"type":"object","description":"各指标故事配置的分析维度组合成的维度里的子维度","properties":{}},"value":{"type":"array","description":"filter value, if the dimension type is TIMESTAMP or DATE, the value format is YYYY-MM-DD HH:mm:ss, otherwise the value format is the same as the dimension type","properties":{},"items":{"type":"string","properties":{}}}},"required":["id","story_dim_type","display_name","story_id_dimension_id_map","operator"]}},"dimension_list":{"type":"array","description":"查询指标故事图表其中指标故事的维度的合集，如果多个指标故事则是复合维度","properties":{},"items":{"type":"object","properties":{"begin_time":{"type":"string","description":"if there is a time dimension and the granularity_id is 14 (i.e., biweekly), then this value is mandatory, if the user does not specify to fill in with the system's current time. format: YYYY-MM-DD","properties":{}},"display_name":{"type":"string","description":"如果是时间类型的维度，展示名称默认是时间，业务线和汇报线同理，不允许做更改，否则默认是维度名称","properties":{}},"granularity_id":{"type":"integer","description":"filter time granularity when used with time dimension, Day (id = 1)  Week (id = 2) Month (id = 3) (which is the default Time Granularity if user doesn't specify) BiMonth (id = 4) Quater (id = 49)","properties":{}},"id":{"type":"string","description":"组成新的uuid，格式为：aime@前缀+任意随机纯字母数字，如果是时间、业务线、汇报线维度id默认维度和筛选维度都是一致的","properties":{}},"operator":{"type":"string","description":"操作符","properties":{}},"story_dim_type":{"type":"string","description":"维度类型 STRING、TIMESTAMP、DATE、INT、FLOAT, 默认STRING, 时间类型默认都是TIMESTAMP","properties":{}},"story_id_dimension_id_map":{"type":"object","description":"各指标故事配置的分析维度组合成的维度里的子维度","properties":{}},"value":{"type":"array","description":"filter value, if the dimension type is TIMESTAMP or DATE, the value format is YYYY-MM-DD HH:mm:ss, otherwise the value format is the same as the dimension type","properties":{},"items":{"type":"string","properties":{}}}},"required":["id","story_dim_type","display_name","story_id_dimension_id_map","operator"]}},"story_list":{"type":"array","description":"The list of the metric story to query detail information, 从上文里面挑选的指标故事的列表，必填","properties":{},"items":{"type":"object","properties":{"story_id":{"type":"string","description":"指标故事的id，一串数字，切勿取维度ID","properties":{}},"story_type":{"type":"string","description":"// 元指标：meta_metric","properties":{}}},"required":["story_id","story_type"]}},"task_id":{"type":"string","description":"The task id to query metric story chart url, 必填","properties":{}}},"required":["task_id","story_list","chart_type","dimension_list","dimension_condition_list","alternative_analysis_dimension_list"]}

"""
import os
import sys
import site
import json
from byted_aime_sdk import call_aime_tool

if __name__ == '__main__':
    payload_json = " ".join(sys.argv[1:])
    try:
        result = call_aime_tool(
            toolset="devmind",
            tool_name="mcp:devmind_query_metric_story_chart_url",
            parameters=json.loads(payload_json),
            response_format="text",
        )
        print(result.result)
    except Exception as e:
        print(e)
        sys.exit(1)
